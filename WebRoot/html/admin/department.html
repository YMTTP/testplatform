<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="/css/reset.css" rel="stylesheet">
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/admin/layout.css" rel="stylesheet">
    <link href="/css/admin/department.css" rel="stylesheet">
    <script type="text/javascript" src="/lib/jquery.js"></script>
    <script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/lib/avalon.js"></script>
    <script type="text/javascript" src="/js/admin/common/common.js"></script>
    <script type="text/javascript" src="/js/admin/department.js"></script>
    <title>部门</title>
</head>
<body ms-controller="vm">
<!-- ADMIN HEAD -->
<div ms-include-src="'/html/admin/header.txt'"></div>
<!-- Content -->
<div class="container">
    <div ms-controller="departmentvm" id="department">
        <div class="tabbable">
            <ul class="nav nav-tabs" id="depTab">
                <li class="active">
                    <a href="#departmentListShow" data-toggle="tab">部门展示</a>
                </li>
                <li>
                    <a href="#departmentListAdd" data-toggle="tab">添加部门</a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="departmentListShow">
                    <table class="table">
                        <tr ms-repeat="depList">
                            <td>
                                {{el.id}}
                            </td>
                            <td>
                                <input class="form-control" ms-attr-readonly="el.readonly" ms-duplex="el.name">
                            </td>
                            <td ms-class="{{el.modifyClass}}">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"
                                      ms-click="initModify($index)"></span>
                            </td>
                            <td ms-class="{{el.saveClass}}">
                                <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"
                                      ms-click="modifyDep($index,el.id,el.name)"></span>
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"
                                      ms-click="cancleModifyDep($index)"></span>
                            </td>
                            <td>
                                <span class="glyphicon glyphicon-trash" aria-hidden="true"
                                      ms-click="removeDep(el.id)"></span>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="tab-pane" id="departmentListAdd">

                    <div class="input-group">
                        <span class="input-group-addon">部门名:</span>
                        <input class="form-control" ms-duplex="newDepartment"/>
                        <button type="button" class="btn btn-primary" ms-click="createDep">新增</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!--ADMIN FOOTER -->
<div ms-include-src="'/html/admin/footer.txt'"></div>
</body>
</html>